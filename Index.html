<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Park Innovation Plus - Smart Parking Solutions</title>
    <!-- โหลด Tailwind CSS และ React ผ่าน CDN เพื่อให้ไฟล์เดียวทำงานได้ทันที -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://unpkg.com/lucide-react@latest"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Anuphan:wght@100;300;400;600;700&display=swap');
        body { font-family: 'Anuphan', sans-serif; scroll-behavior: smooth; background-color: #0A192F; }
        .custom-scrollbar::-webkit-scrollbar { width: 5px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(56, 189, 248, 0.2); border-radius: 10px; }
        @keyframes bounce-slow { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .animate-bounce-slow { animation: bounce-slow 5s ease-in-out infinite; }
        .glow-logo { filter: drop-shadow(0 0 8px rgba(56, 189, 248, 0.6)); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { 
            Shield, Cpu, Cloud, Settings, ChevronRight, Menu, X, MessageCircle, 
            Camera, CreditCard, Smartphone, CheckCircle2, MapPin, Phone, Mail, 
            BarChart3, Users, Database, Lock, Globe, Bell, QrCode, Zap, Tag, 
            Package, Layers, ChevronLeft, Monitor, Printer, Scan, Send, Loader2, 
            AlertCircle 
        } = lucideReact;

        const apiKey = ""; // ใส่ API Key ของคุณที่นี่
        const modelName = "gemini-2.5-flash-preview-09-2025";
        const systemPrompt = `คุณคือผู้ช่วยอัจฉริยะของบริษัท "Park Innovation Plus"
ติดต่อ: 06-2661-4562, 08-0165-9459
ที่อยู่: 215/45 หมู่ที่ 3 ตําบลสําโรง อําเภอพระประแดง จังหวัดสมุทรปราการ 10130
แพ็กเกจ: Begin (2,500), Standard (3,500), Advance (5,500)`;

        const BrandLogo = ({ className = "w-10 h-10" }) => (
            <svg viewBox="0 0 100 100" className={`${className} glow-logo`} fill="none">
                <path d="M30 80V25H60C70 25 75 32 75 42C75 52 70 59 60 59H45" stroke="#38BDF8" strokeWidth="5" strokeLinecap="round"/>
                <path d="M45 59V80" stroke="#38BDF8" strokeWidth="5" strokeLinecap="round"/>
                <circle cx="30" cy="80" r="4" fill="#38BDF8"/>
                <circle cx="45" cy="80" r="4" fill="#38BDF8"/>
                <rect x="70" y="38" width="20" height="6" fill="#38BDF8"/>
                <rect x="77" y="31" width="6" height="20" fill="#38BDF8"/>
            </svg>
        );

        const QuoteModal = ({ isOpen, onClose }) => {
            const [formState, setFormState] = useState('idle');
            const [formData, setFormData] = useState({ name: '', phone: '', email: '', requirements: '' });
            if (!isOpen) return null;

            const handleSubmit = async (e) => {
                e.preventDefault();
                setFormState('sending');
                try {
                    const res = await fetch('https://formspree.io/f/xgolrnjp', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ ...formData, "_subject": `New Request from ${formData.name}` })
                    });
                    if (res.ok) setFormState('success');
                    else setFormState('error');
                } catch { setFormState('error'); }
            };

            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center p-4">
                    <div className="absolute inset-0 bg-[#0A192F]/90 backdrop-blur-sm" onClick={onClose}></div>
                    <div className="relative w-full max-w-xl bg-[#111827] border border-white/10 rounded-[32px] p-8 md:p-10 shadow-2xl">
                        <button onClick={onClose} className="absolute top-6 right-6 text-slate-400"><X size={24}/></button>
                        {formState !== 'success' ? (
                            <form onSubmit={handleSubmit} className="space-y-4">
                                <div className="mb-6 flex items-center space-x-3"><BrandLogo className="w-8 h-8"/><h3 className="text-2xl font-bold text-white leading-none">ติดต่อบริการ / ขอใบเสนอราคา</h3></div>
                                <input required className="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-blue-400 outline-none" placeholder="ชื่อ-นามสกุล" value={formData.name} onChange={e=>setFormData({...formData, name: e.target.value})}/>
                                <div className="grid grid-cols-2 gap-4">
                                    <input required className="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-blue-400 outline-none" placeholder="เบอร์โทรศัพท์" value={formData.phone} onChange={e=>setFormData({...formData, phone: e.target.value})}/>
                                    <input required type="email" className="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-blue-400 outline-none" placeholder="อีเมล" value={formData.email} onChange={e=>setFormData({...formData, email: e.target.value})}/>
                                </div>
                                <textarea className="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white h-28 outline-none focus:border-blue-400 resize-none" placeholder="รายละเอียดโครงการ..." value={formData.requirements} onChange={e=>setFormData({...formData, requirements: e.target.value})}></textarea>
                                <button disabled={formState === 'sending'} className="w-full bg-slate-200 text-[#0A192F] py-4 rounded-xl font-bold flex justify-center space-x-2 active:scale-95 transition-all">
                                    {formState === 'sending' ? <Loader2 className="animate-spin" /> : <Send size={18}/>} <span>ส่งข้อมูล</span>
                                </button>
                            </form>
                        ) : (
                            <div className="text-center py-10"><CheckCircle2 className="mx-auto text-emerald-400 mb-4" size={50}/><h3 className="text-xl text-white">ส่งข้อมูลสำเร็จ! เจ้าหน้าที่จะติดต่อกลับหาคุณค่ะ</h3></div>
                        )}
                    </div>
                </div>
            );
        };

        const Reveal = ({ children, delay = 0 }) => {
            const ref = useRef(null);
            const [isVisible, setIsVisible] = useState(false);
            useEffect(() => {
                const obs = new IntersectionObserver(([e]) => { if(e.isIntersecting) setIsVisible(true); }, { threshold: 0.1 });
                if(ref.current) obs.observe(ref.current);
                return () => obs.disconnect();
            }, []);
            return <div ref={ref} className={`transition-all duration-1000 ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-12"}`} style={{ transitionDelay: `${delay}ms` }}>{children}</div>;
        };

        function App() {
            const [isQuoteOpen, setIsQuoteOpen] = useState(false);
            const [isChatOpen, setIsChatOpen] = useState(false);
            const [scrolled, setScrolled] = useState(false);
            const [activePkg, setActivePkg] = useState(0);
            const [isSidebarOpen, setIsSidebarOpen] = useState(false);
            const [messages, setMessages] = useState([{ role: 'model', text: 'สวัสดีค่ะ Park Innovation Plus ยินดีให้บริการค่ะ มีส่วนไหนให้ช่วยแนะนำไหมคะ?' }]);
            const [input, setInput] = useState('');
            const [isTyping, setIsTyping] = useState(false);
            const chatEndRef = useRef(null);

            useEffect(() => { window.addEventListener('scroll', () => setScrolled(window.scrollY > 50)); }, []);
            useEffect(() => { chatEndRef.current?.scrollIntoView({ behavior: 'smooth' }); }, [messages, isTyping]);

            const packages = [
                { id: 1, name: 'Begin รายเดือน', price: '2,500', tag: 'Starter', icon: <Monitor className="text-blue-400"/>, items: ['คอมพิวเตอร์', 'Barcode/Reader', 'Printer'] },
                { id: 2, name: 'Standard รายเดือน', price: '3,500', tag: 'Popular', icon: <Layers className="text-slate-300"/>, items: ['คอมพิวเตอร์', 'Barcode/Reader', 'Printer', 'Control Barrier Gate x2', 'Control Camera x2'] },
                { id: 3, name: 'Standard Advance รายเดือน', price: '5,500', tag: 'Value', icon: <Zap className="text-yellow-400"/>, items: ['คอมพิวเตอร์', 'Barcode/Reader', 'Printer', 'Camera x2', 'Barrier Gate x2', 'Control Barrier Gate', 'Control Camera'] },
                { id: 4, name: 'Custom Enterprise', price: 'Custom', tag: 'Premium', icon: <Shield className="text-white"/>, items: ['Barcode/Reader', 'Printer', 'Camera', 'Barrier Gate', 'Control Barrier Gate', 'Control Camera', 'Kiosk Auto In Out'] }
            ];

            const handleChat = async (e) => {
                e.preventDefault();
                if (!input.trim() || isTyping) return;
                const msg = input; setInput('');
                setMessages(prev => [...prev, { role: 'user', text: msg }]);
                if (!apiKey) {
                    setTimeout(() => setMessages(prev => [...prev, { role: 'model', text: "ขณะนี้ AI อยู่ในโหมด Demo ค่ะ กรุณาติดต่อ 06-2661-4562 หรือ 08-0165-9459 เพื่อสอบถามเพิ่มเติมค่ะ" }]), 1000);
                    return;
                }
                setIsTyping(true);
                try {
                    const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${modelName}:generateContent?key=${apiKey}`, {
                        method: 'POST', headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ contents: [{ parts: [{ text: msg }] }], systemInstruction: { parts: [{ text: systemPrompt }] } })
                    });
                    const data = await res.json();
                    const reply = data.candidates?.[0]?.content?.parts?.[0]?.text || "ขออภัยค่ะ ระบบขัดข้อง";
                    setMessages(prev => [...prev, { role: 'model', text: reply }]);
                } catch { setMessages(prev => [...prev, { role: 'model', text: "ขออภัยค่ะ กรุณาลองใหม่อีกครั้ง" }]); }
                setIsTyping(false);
            };

            return (
                <div className="min-h-screen text-slate-200">
                    <QuoteModal isOpen={isQuoteOpen} onClose={() => setIsQuoteOpen(false)} />
                    
                    {/* Sidebar */}
                    <aside className={`fixed top-0 left-0 h-full w-[320px] bg-[#111827] border-r border-white/5 z-[70] transition-transform duration-500 transform ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'} flex flex-col shadow-2xl`}>
                        <div className="p-6 border-b border-white/5 flex justify-between items-center"><div className="flex items-center space-x-3"><BrandLogo className="w-8 h-8"/><h2 className="text-xl font-bold text-white uppercase">Packages</h2></div><button onClick={()=>setIsSidebarOpen(false)}><X/></button></div>
                        <div className="flex-1 overflow-y-auto p-6 space-y-4 custom-scrollbar text-left">
                            {packages.map(pkg => (
                                <div key={pkg.id} className="p-4 bg-white/5 rounded-2xl border border-white/5">
                                    <div className="text-xs font-bold text-blue-400 mb-1">{pkg.tag}</div>
                                    <div className="text-white font-bold mb-2">{pkg.name}</div>
                                    <div className="text-sm">฿{pkg.price}</div>
                                </div>
                            ))}
                        </div>
                    </aside>

                    <button onClick={()=>setIsSidebarOpen(true)} className="fixed left-0 top-1/2 -translate-y-1/2 z-[55] bg-slate-200 text-[#0A192F] p-3 rounded-r-2xl shadow-xl"><Package size={20}/></button>

                    <nav className={`fixed w-full z-50 transition-all ${scrolled ? 'bg-[#0A192F]/95 backdrop-blur-md py-4 border-b border-white/5 shadow-xl' : 'bg-transparent py-6'}`}>
                        <div className="max-w-7xl mx-auto px-6 flex justify-between items-center text-left">
                            <div className="flex items-center space-x-2"><BrandLogo className="w-12 h-12"/><div className="text-xl font-bold text-white leading-none">PARK INNOVATION<br/><span className="text-[10px] text-slate-400 uppercase tracking-widest leading-none">Plus +</span></div></div>
                            <div className="hidden md:flex items-center space-x-8">
                                <a href="#" className="hover:text-white transition-colors">หน้าแรก</a>
                                <a href="#packages" className="hover:text-white transition-colors">แพ็กเกจ</a>
                                <button onClick={()=>setIsQuoteOpen(true)} className="bg-slate-200 text-[#0A192F] px-6 py-2 rounded-full font-bold">ขอใบเสนอราคา</button>
                            </div>
                        </div>
                    </nav>

                    <section className="relative min-h-screen flex items-center pt-20">
                        <div className="max-w-7xl mx-auto px-6 grid md:grid-cols-2 gap-12 items-center relative z-10 text-left">
                            <div className="space-y-8">
                                <Reveal><div className="inline-flex items-center space-x-2 px-3 py-1 rounded-full bg-white/5 border border-white/10 text-slate-400 text-xs tracking-wider uppercase leading-none"><span className="w-2 h-2 rounded-full bg-blue-400 animate-pulse"></span><span>Smart Parking Management</span></div></Reveal>
                                <Reveal delay={200}><h1 className="text-5xl md:text-7xl font-bold text-white leading-[1.1] tracking-tight">ยกระดับระบบจอดรถ<br/><span className="text-transparent bg-clip-text bg-gradient-to-r from-slate-200 to-slate-500">เพื่อโครงการระดับพรีเมียม</span></h1></Reveal>
                                <Reveal delay={400}><p className="text-lg text-slate-400 max-w-lg leading-relaxed font-light">เทคโนโลยี AI LPR และ Cloud Computing ครบวงจร สำหรับหมู่บ้านหรูและคอนโดมิเนียมชั้นนำ</p></Reveal>
                                <Reveal delay={600}><button onClick={()=>setIsQuoteOpen(true)} className="bg-gradient-to-r from-slate-200 to-slate-400 text-[#0A192F] px-8 py-4 rounded-xl font-bold flex items-center space-x-2 shadow-xl"><span>เริ่มยกระดับโครงการของคุณ</span><ChevronRight/></button></Reveal>
                            </div>
                            <div className="relative aspect-square bg-gradient-to-br from-slate-800/50 to-[#0A192F] rounded-3xl border border-white/10 p-8 flex flex-col justify-center items-center shadow-2xl overflow-hidden animate-bounce-slow">
                                <Camera className="text-blue-400 mb-4" size={60}/><div className="text-sm font-mono text-white tracking-widest uppercase font-bold text-center">Parking Management Systems</div>
                            </div>
                        </div>
                    </section>

                    <section id="packages" className="py-24 bg-[#0D1B2A] border-y border-white/5">
                        <div className="max-w-7xl mx-auto px-6">
                            <h2 className="text-4xl font-bold text-white text-center mb-16 uppercase tracking-widest">Enterprise Packages</h2>
                            <div className="bg-[#111827] border border-white/10 rounded-[40px] p-8 md:p-12 flex flex-col md:flex-row gap-12 shadow-2xl relative overflow-hidden text-left">
                                <div className="flex-1 space-y-6">
                                    <div className="flex items-center space-x-4"><div className="w-16 h-16 rounded-2xl bg-white/5 flex items-center justify-center text-3xl">{packages[activePkg].icon}</div><div className="text-left"><span className="text-xs font-bold text-blue-400">{packages[activePkg].tag}</span><h3 className="text-3xl font-bold text-white">{packages[activePkg].name}</h3></div></div>
                                    <div className="py-4 border-y border-white/5 text-left"><div className="text-sm text-slate-500 mb-1">ราคาเริ่มต้น</div><div className="text-5xl font-bold text-white">฿{packages[activePkg].price}<span className="text-lg font-normal text-slate-500 ml-2">/ เดือน</span></div></div>
                                    <ul className="grid grid-cols-2 gap-3 text-left">{packages[activePkg].items.map(i => <li key={i} className="flex items-center text-sm font-light text-slate-300"><CheckCircle2 className="mr-2 text-slate-500" size={16}/> {i}</li>)}</ul>
                                    <button onClick={()=>setIsQuoteOpen(true)} className="bg-slate-200 text-[#0A192F] px-8 py-3 rounded-xl font-bold mt-4">ขอใบเสนอราคาแพ็กเกจนี้</button>
                                </div>
                                <div className="flex md:flex-col gap-3 justify-center">
                                    {packages.map((p, idx) => <button key={p.id} onClick={()=>setActivePkg(idx)} className={`w-3 h-12 md:h-12 md:w-3 rounded-full transition-all ${idx === activePkg ? 'bg-blue-400 scale-110' : 'bg-white/10'}`}></button>)}
                                </div>
                            </div>
                        </div>
                    </section>

                    <section className="py-24 bg-gradient-to-b from-[#111827] to-[#0A192F]">
                        <div className="max-w-7xl mx-auto px-6 text-left">
                            <div className="bg-slate-900 rounded-[40px] p-8 md:p-16 border border-white/5 flex flex-col md:flex-row justify-between items-center gap-12 shadow-2xl">
                                <div className="space-y-6 flex-1 text-left">
                                    <h2 className="text-4xl font-bold text-white leading-none">Maintenance Services</h2>
                                    <p className="text-slate-400 max-w-xl font-light">ดูแลตลอด 24 ชม. ด้วยทีมช่างเทคนิคผู้เชี่ยวชาญ เข้าหน้างานทันทีภายใน 4 ชม. เมื่อเกิดปัญหา พร้อมระบบแจ้งเตือนอัตโนมัติ</p>
                                    <div className="flex space-x-12">
                                        <div><div className="text-3xl font-bold text-white">24/7</div><div className="text-xs text-slate-500 font-bold uppercase tracking-widest">Support</div></div>
                                        <div><div className="text-3xl font-bold text-white">4 Hrs</div><div className="text-xs text-slate-500 font-bold uppercase tracking-widest">Response</div></div>
                                    </div>
                                </div>
                                <button onClick={()=>setIsQuoteOpen(true)} className="bg-white text-[#0A192F] px-12 py-5 rounded-2xl font-bold flex items-center space-x-3 text-xl shadow-2xl hover:bg-slate-100 transition-all"><Phone size={24}/><span>ติดต่อบริการ</span></button>
                            </div>
                        </div>
                    </section>

                    <footer className="py-24 border-t border-white/5 bg-[#0A192F] text-left">
                        <div className="max-w-7xl mx-auto px-6 grid md:grid-cols-4 gap-12 text-slate-400 text-sm">
                            <div className="col-span-2 space-y-6"><div className="flex items-center space-x-3"><BrandLogo className="w-12 h-12"/><span className="text-2xl font-bold text-white tracking-wider">Park Innovation Plus</span></div><p className="max-w-sm">ผู้นำระบบจอดรถอัจฉริยะที่ออกแบบมาเพื่อโครงการพรีเมียมโดยเฉพาะ</p></div>
                            <div className="space-y-4">
                                <h4 className="text-white font-bold text-xs uppercase tracking-widest mb-2">ติดต่อเรา</h4>
                                <div className="flex items-start space-x-4"><MapPin className="text-blue-400 mt-1 flex-shrink-0" size={18} /><span>215/45 หมู่ที่ 3 ตําบลสําโรง อําเภอพระประแดง จังหวัดสมุทรปราการ 10130</span></div>
                                <div className="flex items-start space-x-4"><Phone className="text-blue-400 flex-shrink-0" size={18} /><div className="flex flex-col"><span>06-2661-4562</span><span>08-0165-9459</span></div></div>
                                <div className="flex items-center space-x-4"><Mail className="text-blue-400 flex-shrink-0" size={18} /><span>info@parkinnovationplus.com</span></div>
                            </div>
                            <div className="space-y-4">
                                <h4 className="text-white font-bold text-xs uppercase tracking-widest mb-2">ติดตามเรา</h4>
                                <div className="flex space-x-3">{['FB', 'LN', 'LI'].map(s => <div key={s} className="w-10 h-10 rounded-full border border-white/10 flex items-center justify-center hover:bg-white/10 cursor-pointer font-bold text-[10px]">{s}</div>)}</div>
                            </div>
                        </div>
                    </footer>

                    {/* Chat */}
                    <div className="fixed bottom-8 right-8 z-[90] flex flex-col items-end space-y-4">
                        <div className={`w-[350px] md:w-[420px] h-[550px] bg-[#111827] border border-white/10 rounded-[32px] shadow-3xl flex flex-col overflow-hidden transition-all duration-500 transform ${isChatOpen ? 'opacity-100 translate-y-0 scale-100' : 'opacity-0 translate-y-12 scale-90 pointer-events-none'}`}>
                            <div className="p-6 bg-gradient-to-r from-slate-800 to-[#0A192F] border-b border-white/5 flex justify-between items-center text-white text-left">
                                <div className="flex items-center space-x-3"><div className="w-10 h-10 bg-white/5 rounded-full flex items-center justify-center border border-blue-400/30"><BrandLogo className="w-6 h-6" /></div><div><div className="text-sm font-bold">AI Support</div><div className="text-[10px] text-blue-400 flex items-center mt-1"><span className="w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse mr-1.5"></span>Online</div></div></div>
                                <button onClick={()=>setIsChatOpen(false)}><X size={24}/></button>
                            </div>
                            <div className="flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar bg-slate-900/40 text-left">
                                {messages.map((m, i) => <div key={i} className={`flex ${m.role === 'user' ? 'justify-end' : 'justify-start'}`}><div className={`max-w-[85%] p-4 rounded-[22px] text-sm leading-relaxed ${m.role === 'user' ? 'bg-blue-600 text-white' : 'bg-white/5 text-slate-200 border border-white/5 text-left'}`}>{m.text}</div></div>)}
                                {isTyping && <div className="text-xs text-slate-500 p-2 animate-pulse">AI กำลังประมวลผล...</div>}
                                <div ref={chatEndRef}></div>
                            </div>
                            <form onSubmit={handleChat} className="p-4 bg-[#0A192F] border-t border-white/5 flex space-x-2"><input className="flex-1 bg-white/5 rounded-full px-5 py-3 text-sm focus:outline-none focus:border-blue-400 text-left" placeholder="สอบถามเรื่องระบบ..." value={input} onChange={e=>setInput(e.target.value)}/><button type="submit" className="bg-slate-200 text-navy p-3 rounded-full"><Send size={18}/></button></form>
                        </div>
                        <button onClick={()=>setIsChatOpen(!isChatOpen)} className="w-16 h-16 bg-gradient-to-br from-slate-200 to-slate-400 text-[#0A192F] rounded-full shadow-3xl flex items-center justify-center hover:scale-110 active:scale-95 transition-all group relative">
                            {isChatOpen ? <X size={28}/> : <MessageCircle size={32}/>}
                            {!isChatOpen && <div className="absolute -top-12 right-0 bg-white text-navy px-4 py-2 rounded-xl text-xs font-bold opacity-0 group-hover:opacity-100 transition-all shadow-lg whitespace-nowrap">คุยกับผู้เชี่ยวชาญ AI<div className="absolute -bottom-1 right-6 w-2 h-2 bg-white rotate-45"></div></div>}
                        </button>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

